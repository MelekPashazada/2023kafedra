__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useNextSignalValue=function(){const t=(0,n.useRef)(new Set),u=(0,n.useRef)(!1),l=(0,n.useCallback)((n,l,c)=>u.current||null!=c&&c.aborted?Promise.reject(new Error('Component has unmounted')):new Promise(u=>{const o=n.subscribe(n=>{l&&!l(n)||(null==o||o(),u(n),t.current.delete(o))});null==c||c.addEventListener('abort',()=>{null==o||o(),u(null)}),t.current.add(o)}),[]);return(0,n.useEffect)(()=>{const n=t.current;return()=>{u.current=!0,n.forEach(n=>n()),n.clear()}},[]),{waitForNextValue:l}};var n=r(d[0])}),"0632f4",["d7ed8e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewTransitionOld=function({group:u}){const s=(0,n.useCx)(),v=(0,o.useSignal)(u.imagePair.old),{ref:w}=(0,t.useElementSize)({mode:'callback-only',onSizeChanged:({width:n,height:t})=>{(n>0||t>0)&&(v.value.ready.value=!0)},skip:v.value.ready.value});return(0,l.jsx)("div",{ref:n=>{n&&!v.peek().ready.peek()&&(c(n)?v.value.ready.value=!0:w(n))},"view-transition-old":u.name,className:s(p),children:v.value.element})},e.isSelfOrParentNotDisplayed=c,e.viewTransitionElementFragment=void 0;babelHelpers.interopRequireDefault(r(d[0])),r(d[1]);var n=r(d[2]),t=r(d[3]),o=r(d[4]),l=(r(d[5]),r(d[6]));let u;const s=(0,n.cssFragment)(u||(u=(n=>n)`
  height: auto;
  left: 0;
  mix-blend-mode: var(--view-transition_mix-blend-mode, normal);
  position: absolute;
  top: 0;
  width: 100%;
`));e.viewTransitionElementFragment=s;const p="c7kuf3g";function v(n,t){return t?t.hasAttribute(n)?t:v(n,t.parentElement):null}function c(n){if('none'===window.getComputedStyle(n).display)return!0;const t=v('view-transition-image-pair',n.parentElement);if(!t)return!1;if('none'===window.getComputedStyle(t).display)return!0;const o=v('view-transition-group',t.parentElement);if(!o)return!1;if('none'===window.getComputedStyle(o).display)return!0;const l=v('view-transition',o.parentElement);return!!l&&'none'===window.getComputedStyle(l).display}}),"19810b",["d7ed8e","f03cc4","5f1f1f","f47dec","707431","8c28ef","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.viewTransitionSelector=function({name:t="true",newState:o,oldState:n}={}){if(void 0!==o&&void 0===n)return`:global() :root [view-transition='${t}'][view-transition-new-state='${o}']`;if(void 0!==n&&void 0===o)return`:global() :root [view-transition='${t}'][view-transition-old-state='${n}']`;if(void 0!==n&&void 0!==o)return`:global() :root [view-transition='${t}'][view-transition-old-state='${n}'][view-transition-new-state='${o}']`;return`:global() :root [view-transition='${t}']`}}),"1b2834",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticTransitionElement=function({className:s,content:l,inert:c}){const o=(0,t.useCx)();return(0,n.jsx)("div",{"data-static-element-wrapper":!0,className:o(c&&"wy4jsd6",s),dangerouslySetInnerHTML:{__html:l||''},style:c?void 0:{width:'100%'}})};babelHelpers.interopRequireDefault(r(d[0])),r(d[1]);var t=r(d[2]),n=r(d[3])}),"256df7",["d7ed8e","f03cc4","5f1f1f","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.viewTransitionRootFragment=e.ViewTransitionStage=void 0;var t=r(d[0]);r(d[1]),r(d[2]),r(d[3]),r(d[4]);let n,o;e.ViewTransitionStage=o,(function(t){t.Idle="Idle",t.CaptureOld="CaptureOld",t.FreezeScreen="FreezeScreen",t.DOMUpdate="DOMUpdate",t.CaptureNew="CaptureNew",t.CreateAnimations="CreateAnimations",t.StartAnimations="StartAnimations",t.Complete="Complete"})(o||(e.ViewTransitionStage=o={}));const s=(0,t.cssFragment)(n||(n=(t=>t)`
  pointer-events: var(--view-transition_pointer-events, inherit);
  [view-transition-element] {
    visibility: var(--view-transition_visibility);

    > *:where(:not([view-transition-element])) {
      --view-transition-name: none;
    }

    @property --view-transition-name {
      syntax: '<string>';
      inherits: false;
      initial-value: none;
    }
  }
`));e.viewTransitionRootFragment=s}),"33e26c",["5f1f1f","f17cc8","3bed7f","a25e9b","1b2834"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeVariablesForDimensions=function(t,o){return{[`--${t}_bottom`]:""+o.bottom,[`--${t}_height`]:""+o.height,[`--${t}_left`]:""+o.left,[`--${t}_right`]:""+o.right,[`--${t}_top`]:""+o.top,[`--${t}_width`]:""+o.width}}}),"36491a",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewTransition=function({name:c}){var p,T;const f=(0,t.useCx)(),V=(0,s.useViewTransition)(c),b=(0,n.useSignal)(V.transitionGroups),x=(0,n.useSignal)(V.stage),C=(0,n.useComputed)(()=>{const{step:t}=x.value;switch(t){case l.ViewTransitionStage.CaptureOld:return!0;default:return!1}}),S=(0,n.useComputed)(()=>{switch(x.value.step){case l.ViewTransitionStage.StartAnimations:case l.ViewTransitionStage.Complete:return!0;default:return!1}}),_={'--view-transition_visibility':C.value?'hidden':'visible','--view-transition_play-state':S.value?'running':'paused'};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{"view-transition":V.name.value||'true',"view-transition-old-state":null===(p=V.state.value)||void 0===p?void 0:p['old-state'],"view-transition-new-state":null===(T=V.state.value)||void 0===T?void 0:T['new-state'],className:f(w),style:_,children:Array.from(b.value.entries()).map(([t,n])=>(0,v.jsx)(u.ViewTransitionGroup,{group:n},t))}),(0,v.jsx)(o.ViewTransitionCoordinator,{viewTransition:V})]})};babelHelpers.interopRequireDefault(r(d[0])),r(d[1]);var t=r(d[2]),n=r(d[3]),s=r(d[4]),o=r(d[5]),u=r(d[6]),l=r(d[7]),v=r(d[8]);const w="r1cxi8bv"}),"4af078",["d7ed8e","f03cc4","5f1f1f","707431","a25e9b","a62199","d19815","33e26c","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewTransitionDebugger=void 0;var t=r(d[0]),n=r(d[1]),s=r(d[2]),u=r(d[3]);const o=(0,t.memo)((function(){const o=(0,s.useViewTransition)().all,l=(0,t.useRef)(!1);(0,t.useEffect)(()=>{if(window.__vt=o,!o.debugging.evaluated.peek()){o.debugging.evaluated.value=!0;try{const t=new URLSearchParams(window.location.search);null!==t.get('vt-inspect')&&(o.debugging.enabled.value=!0),null!==t.get('vt-step')&&(o.debugging.enabled.value=!0,o.debugging.pauseAfterStage.value=t.get('vt-step'))}catch(t){}}return()=>{delete window.__vt}},[o]);const c=(0,t.useRef)();return l.current||(l.current=!0,o.debugging.enabled.subscribe(t=>{var s;null===(s=c.current)||void 0===s||s.call(c),c.current=null,t&&(c.current=(()=>{const t=[],s=o.count.subscribe(()=>{o.viewTransitionRoots.forEach(s=>{t.push(s.stage.subscribe(t=>{const o=s.state.peek(),l=s.name.peek()||u.ROOT_TRANSITION_NAME;if(o&&t.step===n.ViewTransitionStage.CaptureOld){const n=`old-state(${o['old-state']}) > new-state(${o['new-state']})`;console.log(`${l}: Step(${t.step}) ${n}`)}else console.log(`${l}: Step(${t.step})`)}))})});return()=>{s(),t.forEach(t=>t())}})())})),null}));e.ViewTransitionDebugger=o}),"4b1378",["d7ed8e","33e26c","a25e9b","bd9c98"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useComputed=function(t){return c(f(()=>(0,n().computed)(t)))},e.useSignal=c,e.useSignalEffect=function(u,c=[]){(0,t.useEffect)(()=>(0,n().effect)(u),c)};var t=r(d[0]);function n(){const t=r(d[1]);return n=function(){return t},t}const u=t.useLayoutEffect;function c(c){const o=f(()=>c instanceof n().Signal?c:(0,n().signal)(c));let s=o.peek();const l=(0,t.useState)(s)[1];return u(()=>(0,n().effect)(()=>s!==(s=o.value)&&l(s)),[]),o}function f(n){const u=(0,t.useRef)();return u.current||(u.current=n()),u.current}}),"707431",["d7ed8e","d7f154"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RootStyleSync=void 0;var t=r(d[0]),n=r(d[1]),s=r(d[2]);const o=(0,t.memo)((function({viewTransition:t}){const o=(0,n.useComputed)(()=>{const{step:n}=t.stage.value;switch(n){case s.ViewTransitionStage.FreezeScreen:case s.ViewTransitionStage.DOMUpdate:case s.ViewTransitionStage.CaptureNew:case s.ViewTransitionStage.StartAnimations:case s.ViewTransitionStage.CreateAnimations:case s.ViewTransitionStage.Complete:return!0;default:return!1}}),u=(0,n.useSignal)(t.state).value,l=t.root.peek()||document.body;return l.style.setProperty('--view-transition_visibility',o.value?'hidden':'visible'),l.style.setProperty('--view-transition_pointer-events',o.value?'none':'auto'),u&&Object.keys(u||{}).length>0?(l.setAttribute('view-transition-new-state',u['new-state']||''),l.setAttribute('view-transition-old-state',u['old-state']||'')):(l.removeAttribute('view-transition-new-state'),l.removeAttribute('view-transition-old-state')),null}));e.RootStyleSync=o}),"71bd6e",["d7ed8e","707431","33e26c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useResizeObserverPolyfill=void 0,e.useWaitForResizeObserverPolyfill=function(){return{waitForResizeObserver:(0,n.useEvent)(async()=>!('ResizeObserver'in window)&&(window.ResizeObserver=await t(),!0))}};var s=r(d[0]),n=r(d[1]);async function t(){return(await r(d[3])(d[2],"resize-observer-polyfill").then(babelHelpers.interopRequireWildcard)).default}let o=!1;e.useResizeObserverPolyfill=()=>{const[n,u]=(0,s.useState)(!!o&&'ResizeObserver'in window),l=(0,s.useRef)(!1);return n||(o=!0,'ResizeObserver'in window?u(!0):(async function(){l.current||(l.current=!0,window.ResizeObserver=await t(),u(!0))})()),n}}),"7d3e3c",["d7ed8e","8341eb","8610eb","b8ad06"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewTransitionImagePair=function({group:o}){const c=(0,n.useCx)();return(0,u.jsxs)("div",{"view-transition-image-pair":o.name,className:c(l),children:[null!==o.imagePair.old.value&&(0,u.jsx)(t.ViewTransitionOld,{group:o}),null!==o.imagePair.new.value&&(0,u.jsx)(s.ViewTransitionNew,{group:o})]})};babelHelpers.interopRequireDefault(r(d[0])),r(d[1]);var n=r(d[2]),s=r(d[3]),t=r(d[4]),u=r(d[5]);const l="vi4mvdh"}),"81b7db",["d7ed8e","f03cc4","5f1f1f","9ff686","19810b","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FadeOutEffect=e.FadeInEffect=void 0;var t=r(d[0]);let n,o,s=t=>t;const f=({startOpacity:t,endOpacity:n,duration:o,timingFunction:s,delay:f})=>{let c='';const v=new Map;return void 0!==t&&v.set('--transition-effect_opacity-from',t),void 0!==n&&v.set('--transition-effect_opacity-to',n),o&&v.set('--view-transition_duration',o+"ms"),s&&v.set('--view-transition_timing-function',s),f&&v.set('--view-transition_delay',f+"ms"),v.forEach((t,n)=>{c+=`${n}: ${t};`}),c},c={name:'fade-in',apply:(0,t.cssFragment)(n||(n=s`
    --view-transition_mix-blend-mode: plus-lighter;
    opacity: var(--transition-effect_opacity-from, 0);

    @keyframes fade-in {
      from {
        opacity: var(--transition-effect_opacity-from, 0);
        visibility: visible;
      }
      to {
        opacity: var(--transition-effect_opacity-to, 1);
      }
    }
  `)),animation:`fade-in var(--view-transition_duration, 200ms) var(--view-transition_fill-mode, both) var(--view-transition_play-state,paused) var(--view-transition_timing-function, ${t.theme.motion.standardCurve.animationTimingFunction}) var(--view-transition_delay, 0ms)`,customize:f};e.FadeInEffect=c;const v={name:'fade-out',apply:(0,t.cssFragment)(o||(o=s`
    --view-transition_mix-blend-mode: plus-lighter;

    @keyframes fade-out {
      from {
        opacity: var(--transition-effect_opacity-to, 1);
      }
      to {
        opacity: var(--transition-effect_opacity-from, 0);
        visibility: hidden;
      }
    }
  `)),animation:`fade-out var(--view-transition_duration, 200ms) var(--view-transition_fill-mode, both) var(--view-transition_play-state,paused) var(--view-transition_timing-function, ${t.theme.motion.standardCurve.animationTimingFunction}) var(--view-transition_delay, 0ms)`,customize:f};e.FadeOutEffect=v}),"8c28ef",["5f1f1f"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewTransitionNew=function({group:v}){var c;const p=(0,l.useCx)(),y=(0,u.useSignal)(v.imagePair.new),{ref:f}=(0,n.useElementSize)({mode:'callback-only',onSizeChanged:({width:l,height:n})=>{y.value&&(l>0||n>0)&&(y.value.ready.value=!0)},skip:!y.value||y.value.ready.value});return(0,s.jsx)("div",{ref:l=>{l&&!y.peek().ready.peek()&&((0,t.isSelfOrParentNotDisplayed)(l)?y.value.ready.value=!0:f(l))},"view-transition-new":v.name,className:p(o),children:null===(c=y.value)||void 0===c?void 0:c.element})};babelHelpers.interopRequireDefault(r(d[0])),r(d[1]);var l=r(d[2]),n=r(d[3]),u=r(d[4]),t=r(d[5]),s=(r(d[6]),r(d[7]));const o="n1w93ydq"}),"9ff686",["d7ed8e","f03cc4","5f1f1f","f47dec","707431","19810b","8c28ef","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useViewTransition=function(s){const c=(0,n.useRef)();c.current||(c.current={...t.ViewTransitionListInstance.get(s),all:t.ViewTransitionListInstance,start:async(n,t)=>{const{all:u}=c.current,o=u.get((null==t?void 0:t.name)||s).start,l=o.peek();return l?l(n,t):new Promise(s=>{const c=o.subscribe(u=>{u&&(c(),Promise.resolve().then(()=>{u(n,t).then(s)}))})})}});return c.current};var n=r(d[0]),t=r(d[1])}),"a25e9b",["d7ed8e","bd9c98"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewTransitionCoordinator=void 0;var t=babelHelpers.interopRequireDefault(r(d[0]));function n(){const t=r(d[1]);return n=function(){return t},t}var o=r(d[2]),s=r(d[3]),l=r(d[4]),u=r(d[5]),c=r(d[6]),w=r(d[7]),p=r(d[8]),v=r(d[9]),S=r(d[10]),k=r(d[11]);function T(t,o){const s=t.getBoundingClientRect(),l=o?'root':window.getComputedStyle(t).getPropertyValue('--view-transition-name');if(!l||'none'===l)throw new Error('Missing required value for "view-transition-name".');const u=o?t.innerHTML:t.outerHTML;return{name:l,transitionElement:{element:(0,k.jsx)(v.StaticTransitionElement,{content:u,inert:!0}),dimensions:s,ready:(0,n().signal)(!1)}}}const y=t.default.memo(({viewTransition:t})=>{const v=t,y=(0,w.useViewTransition)().all,{waitForNextValue:f}=(0,l.useNextSignalValue)(),{scheduler:b}=(0,u.usePostTaskScheduler)({strategy:'recycle'}),A=(0,s.useComputed)(()=>{const t=Array.from(v.transitionGroups.value.values());return v.stage.value.step===p.ViewTransitionStage.CaptureOld&&(t.length>0&&t.every(t=>null===t.imagePair.old.value||t.imagePair.old.value.ready.value))}),V=(0,s.useComputed)(()=>{const t=Array.from(v.transitionGroups.value.values());return v.stage.value.step===p.ViewTransitionStage.CaptureNew&&(t.length>0&&t.every(t=>null===t.imagePair.new.value||t.imagePair.new.value.ready.value))});function h(){(0,n().batch)(()=>{v.stage.value=(0,c.makeActiveStage)(p.ViewTransitionStage.FreezeScreen,v.stage.peek())})}function C(){return(0,n().batch)(()=>{v.stage.value=(0,c.makeActiveStage)(p.ViewTransitionStage.DOMUpdate,v.stage.peek()),v.updateCallbackDone.value=b.postTask(v.wait,{priority:'user-blocking'})}),v.updateCallbackDone.peek()}function P(){(0,n().batch)(()=>{v.stage.value=(0,c.makeActiveStage)(p.ViewTransitionStage.CreateAnimations,v.stage.peek())})}function E(){(0,n().batch)(()=>{v.stage.value=(0,c.makeActiveStage)(p.ViewTransitionStage.StartAnimations,v.stage.peek())})}function M(){(0,n().batch)(()=>{v.stage.value=(0,c.makeActiveStage)(p.ViewTransitionStage.Complete,v.stage.peek())})}function q(){(0,n().batch)(()=>{v.transitionGroups.value=new Map,y.anyActive.value=Array.from(y.viewTransitionRoots.values()).some(t=>t!==v&&t.active.peek()),v.stage.value=(0,c.makeActiveStage)(p.ViewTransitionStage.Idle,v.stage.peek())})}function O(t){if(y.debugging.enabled.peek()&&y.debugging.pauseAfterStage.peek()===t){console.log("Pausing after stage: "+t);const n=new AbortController,o=f(y.debugging.pauseAfterStage,n=>t!==n,n.signal),s=f(y.debugging.enabled,t=>!t,n.signal);return o.then(()=>{console.log("Resuming after stage: "+t),n.signal.aborted||n.abort()}),s.then(()=>{n.signal.aborted||n.abort()}),Promise.race([o,s])}}const G=(0,o.useEvent)(async(t,o)=>{t&&v.domUpdateCallbacks.add(t),await O(p.ViewTransitionStage.Idle),await b.postTask(()=>(function(t){(0,n().batch)(()=>{y.anyActive.value=!0,v.layers.value=0,t&&Object.keys(t||{}).some(t=>'new-state'===t||'old-state'===t)&&(v.state.value=t),null!=t&&t.name&&(v.name.value=t.name),null!=t&&t.root&&(v.root.value=t.root),v.transitionGroups.value=new Map,v.stage.value=(0,c.makeActiveStage)(p.ViewTransitionStage.CaptureOld,v.stage.peek())})})(o));const s=v.root.peek()||document.body;try{await b.postTask(()=>(function(t){const o=t.querySelectorAll("[view-transition-element=\"true\"]"),s=new Map,l={name:'root',order:v.layers.value++,imagePair:{old:(0,n().signal)(T(t,!0).transitionElement),new:(0,n().signal)(null)},transition:v};s.set('root',l),o.forEach(t=>{const{name:o,transitionElement:l}=T(t),u={name:o,order:v.layers.value++,imagePair:{old:(0,n().signal)(l),new:(0,n().signal)(null)},transition:v};if(s.has(o))throw new Error(`[view-transition-name="${o}"] already exists`);s.set(o,u)});const u=f(A,t=>!!t);return v.transitionGroups.value=s,u})(s)),await O(p.ViewTransitionStage.CaptureOld),await b.postTask(h),await O(p.ViewTransitionStage.FreezeScreen),await b.postTask(C),await O(p.ViewTransitionStage.DOMUpdate),await b.postTask(()=>(function(t){(0,n().batch)(()=>{v.stage.value=(0,c.makeActiveStage)(p.ViewTransitionStage.CaptureNew,v.stage.peek())});const o=t.querySelectorAll("[view-transition-element=\"true\"]"),s=new Map(v.transitionGroups.peek());s.get('root').imagePair.new.value=T(t,!0).transitionElement;const l=[];o.forEach(t=>{const{name:o,transitionElement:u}=T(t);if(l.includes(o))throw new Error(`[view-transition-name="${o}"] already exists`);l.push(o);const c=s.get(o)||{name:o,order:v.layers.value++,imagePair:{old:(0,n().signal)(null),new:(0,n().signal)(null)},transition:v};c.imagePair.new=(0,n().signal)(u),s.set(o,c)});const u=f(V,t=>!!t);return v.transitionGroups.value=s,u})(s)),await O(p.ViewTransitionStage.CaptureNew),await b.postTask(P),await O(p.ViewTransitionStage.CreateAnimations),await b.postTask(E),await O(p.ViewTransitionStage.StartAnimations),await(function(t){const n=`[view-transition=${t||'true'}]`,o=[document.querySelector(n),...document.querySelectorAll(n+" [view-transition-group]"),...document.querySelectorAll(n+" [view-transition-image-pair]"),...document.querySelectorAll(n+" [view-transition-old]"),...document.querySelectorAll(n+" [view-transition-new]")].flatMap(t=>t.getAnimations());return Promise.all(o.map(t=>t.finished))})(v.name.peek())}catch(t){v.stage.peek().step===p.ViewTransitionStage.CaptureOld&&await b.postTask(C),console.log(t)}finally{await b.postTask(M),await O(p.ViewTransitionStage.Complete),await b.postTask(q)}}),x=y.get(v.name.peek());return x.start.peek()!==G&&(x.start.value=G),(0,k.jsx)(S.RootStyleSync,{viewTransition:v})});e.ViewTransitionCoordinator=y}),"a62199",["d7ed8e","d7f154","8341eb","707431","0632f4","c9055a","bd9c98","a25e9b","33e26c","256df7","71bd6e","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewTransitionListInstance=e.ROOT_TRANSITION_NAME=void 0,e.makeActiveStage=o;var t=r(d[1]);function o(t,o){return o&&(o.status.value='complete',o.timing.end=performance.now()),{previousStage:o,status:(0,n().signal)('active'),step:t,timing:{begin:performance.now(),end:null}}}e.ROOT_TRANSITION_NAME="<Root>";const s={add:function(l){const c=l||"<Root>",u={active:(0,n().signal)(!1),domUpdateCallbacks:new Set,layers:(0,n().signal)(0),name:(0,n().signal)(l),root:(0,n().signal)(null),start:(0,n().signal)(null),stage:(0,n().signal)(o(t.ViewTransitionStage.Idle,null)),state:(0,n().signal)(null),transitionGroups:(0,n().signal)(new Map),updateCallbackDone:(0,n().signal)(null),wait:async()=>{function n(n){s.debugging.enabled.peek()&&console.log(`${c}: Awaiting callback: ${n}`)}for(;u.domUpdateCallbacks.size>0;){const t=[...u.domUpdateCallbacks];u.domUpdateCallbacks.clear(),await Promise.all(t.map(t=>t(n)))}}};return s.viewTransitionRoots.set(l||"<Root>",u),s.count.value++,u},anyActive:(0,n().signal)(!1),count:(0,n().signal)(0),debugging:{enabled:(0,n().signal)(!1),evaluated:(0,n().signal)(!1),pauseAfterStage:(0,n().signal)(null)},get:function(n){const t=n||"<Root>",o=s.viewTransitionRoots.get(t);return o||s.add(n)},remove:function(n){const t=n||"<Root>";s.viewTransitionRoots.has(t)&&(s.viewTransitionRoots.delete(t),s.count.value--)},viewTransitionRoots:new Map};e.ViewTransitionListInstance=s}),"bd9c98",["d7f154","33e26c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useOnResize=function({skip:c,element:s,onlyWhen:o,onResize:l}){const{waitForResizeObserver:v}=(0,u.useWaitForResizeObserverPolyfill)(),f=(0,n.useRef)(null),h=(0,n.useRef)(null),R=(0,n.useRef)(null),b=(0,n.useRef)(null),z=(0,t.useEvent)(n=>{var t;let u,c;if(null!==(t=n[0].borderBoxSize)&&void 0!==t&&t.length){const{blockSize:t,inlineSize:s}=n[0].borderBoxSize[0];c=t,u=s}else c=n[0].contentRect.height,u=n[0].contentRect.width;c!==f.current&&(R.current=f.current,f.current=c),u!==h.current&&(b.current=h.current,h.current=u),o&&!o({entries:n,height:c,previousHeight:R.current,previousWidth:b.current,width:u})||l({entries:n,previousHeight:R.current,previousWidth:b.current,width:u,height:c})}),p=(0,n.useRef)(null),w=(0,n.useRef)(s),O=(0,n.useRef)(s?[{element:s}]:[]),k=(0,n.useCallback)((n,t)=>{var u;p.current?null===(u=p.current)||void 0===u||u.observe(n,t):O.current.push({element:n,options:t})},[]),S=(0,n.useCallback)(n=>{var t;null===(t=p.current)||void 0===t||t.unobserve(n)},[]);w.current!==s&&(w.current&&S(w.current),s&&(k(s),w.current=s));const W=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{if(!c){if(!W.current){if(!('ResizeObserver'in window))return void v().then(()=>{W.current=!0,n()});W.current=!0}return n(),()=>{var n;return null===(n=p.current)||void 0===n?void 0:n.disconnect()}}function n(){p.current=new ResizeObserver(z),O.current.forEach(({element:n,options:t})=>{k(n,t)}),O.current=[]}},[c,W,z,k,v]),{observe:k,unobserve:S}};var n=r(d[0]),t=r(d[1]),u=r(d[2])}),"c37329",["d7ed8e","8341eb","7d3e3c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewTransitionGroup=function({group:c}){const f=(0,n.useCx)();let V={};const x=(0,t.useSignal)(c.transition.stage);null!==c.imagePair.old.value&&(V={...V,'--view-transition-group_default-z-index':""+c.order,...(0,s.makeVariablesForDimensions)('view-transition-group-old',c.imagePair.old.value.dimensions)});null!==c.imagePair.new.value&&(V={...V,'--view-transition-group_default-z-index':""+c.order,...(0,s.makeVariablesForDimensions)('view-transition-group-new',c.imagePair.new.value.dimensions)});const P=(0,t.useComputed)(()=>{switch(x.value.step){case u.ViewTransitionStage.CreateAnimations:case u.ViewTransitionStage.StartAnimations:case u.ViewTransitionStage.Complete:return!0;default:return!1}});return(0,l.jsx)("div",{className:f(v,P.value&&p,'root'===c.name&&w),"view-transition-group":c.name,style:V,children:(0,l.jsx)(o.ViewTransitionImagePair,{group:c})})};babelHelpers.interopRequireDefault(r(d[0])),r(d[1]);var n=r(d[2]),t=r(d[3]),o=r(d[4]),s=r(d[5]),u=r(d[6]),l=r(d[7]);const v="v34w2ga",p="vhp7t6l",w="v1xtgklo"}),"d19815",["d7ed8e","f03cc4","5f1f1f","707431","81b7db","36491a","33e26c","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){throw new Error("Cycle detected")}function o(){if(h>1)h--;else{for(var t,o=!1;void 0!==s;){var n=s;for(s=void 0,f++;void 0!==n;){var v=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&p(n))try{n.c()}catch(n){o||(t=n,o=!0)}n=v}}if(f=0,h--,o)throw t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Signal=c,e.batch=function(t){if(h>0)return t();h++;try{return t()}finally{o()}},e.computed=function(t){return new S(t)},e.effect=O,e.signal=function(t){return new c(t)};var n=void 0,s=void 0,h=0,f=0,v=0;function u(t){if(void 0!==n){var o=t.n;if(void 0===o||o.t!==n)return o={i:0,S:t,p:n.s,n:void 0,t:n,e:void 0,x:void 0,r:o},void 0!==n.s&&(n.s.n=o),n.s=o,t.n=o,32&n.f&&t.S(o),o;if(-1===o.i)return o.i=0,void 0!==o.n&&(o.n.p=o.p,void 0!==o.p&&(o.p.n=o.n),o.p=n.s,o.n=void 0,n.s.n=o,n.s=o),o}}function c(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function p(t){for(var o=t.s;void 0!==o;o=o.n)if(o.S.i!==o.i||!o.S.h()||o.S.i!==o.i)return!0;return!1}function y(t){for(var o=t.s;void 0!==o;o=o.n){var n=o.S.n;if(void 0!==n&&(o.r=n),o.S.n=o,o.i=-1,void 0===o.n){t.s=o;break}}}function l(t){for(var o=t.s,n=void 0;void 0!==o;){var s=o.p;-1===o.i?(o.S.U(o),void 0!==s&&(s.n=o.n),void 0!==o.n&&(o.n.p=s)):n=o,o.S.n=o.r,void 0!==o.r&&(o.r=void 0),o=s}t.s=n}function S(t){c.call(this,void 0),this.x=t,this.s=void 0,this.g=v-1,this.f=4}function w(t){var s=t.u;if(t.u=void 0,"function"==typeof s){h++;var f=n;n=void 0;try{s()}catch(o){throw t.f&=-2,t.f|=8,x(t),o}finally{n=f,o()}}}function x(t){for(var o=t.s;void 0!==o;o=o.n)o.S.U(o);t.x=void 0,t.s=void 0,w(t)}function b(t){if(n!==this)throw new Error("Out-of-order effect");l(this),n=t,this.f&=-2,8&this.f&&x(this),o()}function U(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function O(t){var o=new U(t);try{o.c()}catch(t){throw o.d(),t}return o.d.bind(o)}c.prototype.h=function(){return!0},c.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},c.prototype.U=function(t){if(void 0!==this.t){var o=t.e,n=t.x;void 0!==o&&(o.x=n,t.e=void 0),void 0!==n&&(n.e=o,t.x=void 0),t===this.t&&(this.t=n)}},c.prototype.subscribe=function(t){var o=this;return O((function(){var n=o.value,s=32&this.f;this.f&=-33;try{t(n)}finally{this.f|=s}}))},c.prototype.valueOf=function(){return this.value},c.prototype.toString=function(){return this.value+""},c.prototype.peek=function(){return this.v},Object.defineProperty(c.prototype,"value",{get:function(){var t=u(this);return void 0!==t&&(t.i=this.i),this.v},set:function(n){if(n!==this.v){f>100&&t(),this.v=n,this.i++,v++,h++;try{for(var s=this.t;void 0!==s;s=s.x)s.t.N()}finally{o()}}}}),(S.prototype=new c).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===v)return!0;if(this.g=v,this.f|=1,this.i>0&&!p(this))return this.f&=-2,!0;var t=n;try{y(this),n=this;var o=this.x();(16&this.f||this.v!==o||0===this.i)&&(this.v=o,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return n=t,l(this),this.f&=-2,!0},S.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var o=this.s;void 0!==o;o=o.n)o.S.S(o)}c.prototype.S.call(this,t)},S.prototype.U=function(t){if(void 0!==this.t&&(c.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var o=this.s;void 0!==o;o=o.n)o.S.U(o)}},S.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},S.prototype.peek=function(){if(this.h()||t(),16&this.f)throw this.v;return this.v},Object.defineProperty(S.prototype,"value",{get:function(){1&this.f&&t();var o=u(this);if(this.h(),void 0!==o&&(o.i=this.i),16&this.f)throw this.v;return this.v}}),U.prototype.c=function(){var t=this.S();try{8&this.f||void 0===this.x||(this.u=this.x())}finally{t()}},U.prototype.S=function(){1&this.f&&t(),this.f|=1,this.f&=-9,w(this),y(this),h++;var o=n;return n=this,b.bind(this,o)},U.prototype.N=function(){2&this.f||(this.f|=2,this.o=s,s=this)},U.prototype.d=function(){this.f|=8,1&this.f||x(this)}}),"d7f154",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransitionLayer=void 0;var t=babelHelpers.interopRequireWildcard(r(d[0])),n=(r(d[1]),r(d[2])),s=r(d[3]),o=r(d[4]),u=r(d[5]),l=r(d[6]),c=r(d[7]),v=r(d[8]);const y="t1nrbpkt",p=(0,t.memo)((function(){const p=(0,n.useCx)(),T=(0,o.useViewTransition)().all,w=(0,s.useSignal)(T.anyActive),f=(0,s.useSignal)(T.count),b=(0,s.useSignal)(T.debugging),[S,j]=(0,t.useState)([]);(0,s.useSignalEffect)(()=>{j(Array.from(T.viewTransitionRoots.keys()))},[f.peek(),T.viewTransitionRoots]);const x=(0,s.useComputed)(()=>!(!b.value.enabled.value||!w.value)&&Array.from(T.viewTransitionRoots.values()).some(t=>{switch(t.stage.value.step){case c.ViewTransitionStage.Idle:case c.ViewTransitionStage.Complete:return!1;default:return!0}})),V={'--transition-layer_pointer-events':x.value?'auto':'none'};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:p(y),"data-transition-layer":!0,"data-testid":"transition-layer","aria-hidden":!0,style:V,inert:x.value?void 0:'true',children:S.map(t=>(0,v.jsx)(u.ViewTransition,{name:t},t))}),(0,v.jsx)(l.ViewTransitionDebugger,{})]})}));e.TransitionLayer=p}),"f17cc8",["d7ed8e","f03cc4","5f1f1f","707431","a25e9b","4af078","4b1378","33e26c","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useElementSize=function(u){const{monitor:l,skip:s,mode:c,onSizeChanged:o,threshold:h=5}=u||{},b=(0,n.useRef)(s),f=(0,n.useRef)(null),v=(0,n.useRef)(null),p=(0,n.useCallback)(n=>{v.current=n},[]),[k,R]=(0,n.useState)({height:null,width:null,entries:[],previousHeight:null,previousWidth:null,target:null}),{observe:y,unobserve:z}=(0,t.useOnResize)({skip:s,onlyWhen:({height:n,previousHeight:t,previousWidth:u,width:s})=>{const c=null===t||Math.abs(n-t)>h,o=null===u||Math.abs(s-u)>h;return'height'===l?c:'width'===l?o:o||c},onResize:n=>{const t={...n,target:f.current};'callback-only'!==c&&R(t),null==o||o(t)}}),_=(0,n.useCallback)((n,t)=>{f.current!==n&&(f.current&&z(f.current),f.current=n,n&&y(n,t))},[y,z]);b.current!==s&&(b.current=s,s?(v.current=f.current,_(null)):(_(v.current),v.current=null));if('callback-only'===c)return{ref:_};return{...k,ref:s?p:_}};var n=r(d[0]),t=r(d[1])}),"f47dec",["d7ed8e","c37329"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/magic-move/TransitionLayer.9c0d04603a.js.map