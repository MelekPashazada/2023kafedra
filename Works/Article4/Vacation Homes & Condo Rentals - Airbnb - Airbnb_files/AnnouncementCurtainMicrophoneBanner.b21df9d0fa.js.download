__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnnouncementCurtainMicrophoneBannerWithTracking=void 0,e.AnnouncementCurtainMicrophoneBannerWithoutTracking=_,e.default=function(n){const{impressionLoggingData:t}=n,l=(0,o.default)();return(0,I.jsx)(j,{loggingID:(null==t?void 0:t.loggingId)||'AnnouncementCurtainMicrophoneBanner',eventData:null==t?void 0:t.eventData,eventDataSchema:null==t?void 0:t.eventDataSchemaName,shouldLogImpression:!l,...n})};var n=babelHelpers.interopRequireWildcard(r(d[0])),t=(r(d[1]),babelHelpers.interopRequireDefault(r(d[2]))),l=babelHelpers.interopRequireDefault(r(d[3])),o=babelHelpers.interopRequireWildcard(r(d[4])),u=babelHelpers.interopRequireDefault(r(d[5])),s=babelHelpers.interopRequireDefault(r(d[6])),c=r(d[7]),p=(r(d[8]),r(d[9])),h=(babelHelpers.interopRequireDefault(r(d[10])),r(d[11]),r(d[12])),f=babelHelpers.interopRequireDefault(r(d[13])),v=babelHelpers.interopRequireDefault(r(d[14])),b=r(d[15]),x=babelHelpers.interopRequireDefault(r(d[16])),I=r(d[17]);const S="f13odiba",y="s16gufdo",T="c6uors2",N="b34v4vt",O="dh6pwax",P="t1r4m0sf",D="a112ikhn";function C(n,t=!1,l=!1){return{...t||l?{}:{backgroundColor:{defaultColor:{hex:'#f7f7f7',alpha:1}},border:{cornerRadius:8},margin:{leading:{type:'POINTS',value:8},trailing:{type:'POINTS',value:8}},padding:{bottom:{type:'POINTS',value:8},leading:{type:'POINTS',value:8},top:{type:'POINTS',value:8},trailing:{type:'POINTS',value:8}},textStyle:{size:14,letterSpacing:0,lineHeight:18,dlsWeight:'THIN',color:{hex:'#222222',alpha:1}}},...t?{backgroundColor:{defaultColor:{hex:'#f7f7f7',alpha:1}},border:{cornerRadius:8},padding:{bottom:{type:'POINTS',value:8},leading:{type:'POINTS',value:8},top:{type:'POINTS',value:8},trailing:{type:'POINTS',value:8}},textStyle:{size:16,letterSpacing:0,lineHeight:20,dlsWeight:'MEDIUM',color:{hex:'#222222',alpha:1},underline:!0}}:{},...l?{backgroundColor:{defaultColor:{hex:'#f7f7f7',alpha:1}},border:{cornerRadius:8},padding:{bottom:{type:'POINTS',value:8},leading:{type:'POINTS',value:8},top:{type:'POINTS',value:8},trailing:{type:'POINTS',value:8}},textStyle:{size:14,letterSpacing:-.02,lineHeight:18,dlsWeight:'MEDIUM',color:{hex:'#222222',alpha:1},underline:!0}}:{},...Object.fromEntries(Object.entries(n||{}).filter(([n,t])=>null!=t))}}function _({primaryPreviewThumbnailUrl:x,primaryCtaAction:_,primaryCtaButton:j,secondaryCtaAction:H,secondaryCtaButton:R,rawTitle:q}){var M;const A=(0,p.useCx)(),k=(0,o.useIsExploreFadeIn)(),B=(0,o.default)(),w=((null==q?void 0:q.indexOf('aircover'))||-1)>-1||!1,{href:W,runAction:U,loading:E,loggingData:L}=(0,s.default)(_),{href:z,runAction:F,loading:$,loggingData:G}=(0,s.default)(H),[K]=(0,b.useUIState)(c.AnnouncementCurtainViewedOnClientKey,void 0),[V,J]=(0,n.useState)(!1);let Q;if(x){const n=new URL(x);Q=`${n.origin}${n.pathname}?im_q=highq&im_w=240`}(0,n.useEffect)(()=>{if(K)J(!0);else if(void 0===K){const n=setTimeout(()=>{V||J(!0)},4e3);return()=>clearTimeout(n)}},[K,V]);const X=!w&&v.default.getBootstrap('enable_upfront_pricing_microphone_styles')||'homepage.header.betaProgramAnnouncement_open_megaphone'===(null==_||null===(M=_.loggingData)||void 0===M?void 0:M.loggingId),Y=(0,h.shouldShowUpfrontPricingBanner)(),Z=(0,n.useMemo)(()=>C(j,X,w),[w,X,j]),ee=(0,n.useMemo)(()=>C(R),[R]);return B&&X&&(Y||(0,h.isExcludedGeos)())?null:(0,I.jsx)("div",{className:A(k&&S,y),children:(0,I.jsxs)("div",{className:A(T,X&&'price-toggle',w&&'aircover'),children:[(0,I.jsx)(o.ShimmerIfSkeleton,{children:(0,I.jsx)(u.default,{children:(0,I.jsx)("span",{className:A(P),children:w?(0,I.jsx)(t.default,{text:l.default.t('aircover.microphone.desktop_title'),values:{aircover:(0,I.jsx)("span",{className:A(D),children:l.default.t('aircover.megaphone.aircover_logo_en_alt_text')})}}):q})})}),(0,I.jsxs)("span",{className:A(N),children:[j&&(0,I.jsx)(f.default,{...Z,...L,href:W,loading:E,onPress:U,previewThumbnailUrl:Q,shouldLogImpression:V,underlineOnHover:!0}),R&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:A(O)}),(0,I.jsx)(f.default,{...ee,...G,href:z,loading:$,onPress:F,shouldLogImpression:V,underlineOnHover:!0})]})]})]})})}const j=(0,x.default)('AnnouncementCurtainMicrophoneBanner')(_);e.AnnouncementCurtainMicrophoneBannerWithTracking=j}),"a97c71",["d7ed8e","f03cc4","06846a","6898d5","658726","4628ac","335598","083ab2","d9d8ee","5f1f1f","a2ecf6","90390a","0733c4","f82c63","6b945b","9e67c0","bc1c90","721ed1"]);
__r("6898d5").extend({"aircover.microphone.desktop_title":"Every booking is now protected by %{aircover}","aircover.megaphone.aircover_logo_en_alt_text":"AirCover"});
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/homepage-sections/sections/client/AnnouncementCurtainMicrophoneBanner/AnnouncementCurtainMicrophoneBanner.c79e9fb4b1.js.map