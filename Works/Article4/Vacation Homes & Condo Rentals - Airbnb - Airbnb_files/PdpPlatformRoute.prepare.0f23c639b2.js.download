__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={document:void 0,getDocument:()=>r(d[1])(d[0],"./PdpEarlyFlushMetadataQueryV2-document.niobe").then(babelHelpers.interopRequireWildcard).then(t=>t.default),name:'PdpEarlyFlushMetadataQueryV2',type:'query',operationId:'500d7049641722ac4b7942133db1868ba1e3df01fa8dc24fc019d1e62b5e3d69'};e.default=t}),"125933",["5c863a","b8ad06"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),o=r(d[1]),l=r(d[2]),s=r(d[3]),n=babelHelpers.interopRequireDefault(r(d[4]));var p=({isPrefetch:p,location:u,match:c,niobeMinimalistClient:b,previousLocation:f,previousPrepareProps:h,customPrepareNiobeData:v})=>{const{id:y}=c.params,P=u.pathname.split(y)[0]===(null==f?void 0:f.pathname.split(y)[0]);if(h&&P)return h;const q=p?{headers:{'X-Airbnb-Prefetch':'web'}}:void 0,I=Boolean(v.launchPdpUncaching),_=v.p3_impression_id||(0,s.generateId)();return{queryRef:b.preloadQuery({context:q,query:t.default,variables:(0,o.getRequestVariables)({location:u,match:c,p3ImpressionId:_}),deferrable:I}),skeletonQueryRef:b.preloadQuery({query:n.default,variables:{id:(0,l.createGlobalId)('StayListing',c.params.id)},skip:!I}),showDeferredSkeleton:I,p3ImpressionId:_}};e.default=p}),"13d687",["263d9b","b33b52","685055","3ce4f9","125933"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={document:void 0,getDocument:()=>r(d[1])(d[0],"./StaysPdpSections-document.niobe").then(babelHelpers.interopRequireWildcard).then(t=>t.default),name:'StaysPdpSections',type:'query',operationId:'69cb84c3d27f18f34306c9f83f19064035080ae6d8fa803935860843f2bfb570'};e.default=t}),"263d9b",["d1d879","b8ad06"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){const{display_extensions:n}=(0,t.default)(l.search);if(null==n||!Array.isArray(n))return null;return n.map(t=>'MONTHLY_STAYS'===t.toUpperCase()?'MONTHLY_STAYS':'LR_REDIRECT'===t.toUpperCase()?'LR_REDIRECT':'DATED_LTS'===t.toUpperCase()?'DATED_LTS':null)};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"2954b7",["99e500"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({params:l,pathname:o=window.location.pathname,search:u=window.location.search}){if(!l||0===Object.keys(l).length)return o+u;const s={...(0,n.default)(u),...l},c=t.default.stringify(s,{arrayFormat:'brackets'});return c.length>0?`${o}?${c}`:o};var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireDefault(r(d[1]))}),"3732e6",["d2b390","99e500"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setImpressionId=e.resetImpressionId=e.generateId=e.default=void 0;var s=r(d[0]);let t;const n=()=>"p3_"+(0,s.computeBev)();e.generateId=n;const o=()=>{t=n()};e.resetImpressionId=o;e.setImpressionId=s=>{t=s},o();e.default=()=>t}),"3ce4f9",["d18067"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){return(function(u){const{pdp_type_override:c,tier_override:n}=(0,t.default)(u);if(n&&'0'===n)return'MARKETPLACE';if(n&&'1'===n)return'PLUS';switch(c){case'HOTEL':case'hotel':return'HOTEL';case'LUXE':case'luxe':return'LUXE';case'MARKETPLACE':case'marketplace':return'MARKETPLACE';case'PLUS':case'plus':return'PLUS';default:return}})(u.search)};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"664416",["99e500"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createGlobalId=function(n,t){return(function(n){return window.btoa(n)})((function(n,t){return`${n}:${encodeURIComponent(t).replace(/%20/g,'+').replace(/\(/g,'%28').replace(/\)/g,'%29')}`})(n,t))},e.getInternalId=function(n){const{internalId:t}=(function(n){const t=n.split(':'),[o,c]=t,l=c&&decodeURIComponent(c.replace(/\+/g,'%20').replace(/%28/g,'(').replace(/%29/g,')'));if(void 0===o||void 0===l)throw new Error('Failed to decode global ID');return{typename:o,internalId:l}})((o=n,window.atob(o)));var o;return t},e.parseGlobalId=function(n){return n},e.stringifyGlobalId=function(n){return n}}),"685055",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){return Object.entries(t).reduce((t,[n,c])=>(u(c,n)&&(t[n]=c),t),{})}}),"72751c",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({id:t,queryParams:o}){const{confirmation_code:s,split_stays_uuid:n}=o;return{splitStaysId:n,stays:[{productId:t,confirmationCode:s}]}}}),"896ce9",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTranslateUgcParam=function(t){return(function(t){const{translate_ugc:n}=(0,l.default)(t);return n?'true'===n:null})(t.search)},e.setTranslateUgcParam=function(s){if(!g.window)return;if('function'!=typeof g.window.history.replaceState)return;if('UNDEFINED'===s)return;const c=(0,l.default)(),f='UNTRANSLATED'===s,p=(0,n.default)({...c,translate_ugc:String(f)},t.default),{hash:b,pathname:h,search:D}=window.location,w=(0,o.default)({params:p,pathname:h,search:D})+b;(0,u.getHistory)().replace(w)};var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireDefault(r(d[1])),u=r(d[2]),l=babelHelpers.interopRequireDefault(r(d[3])),o=babelHelpers.interopRequireDefault(r(d[4]))}),"974ac4",["c2e91d","72751c","da368f","99e500","3732e6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRequestVariables=function({forSplitStays:p=!1,location:_,match:I,p3ImpressionId:y}){const b=(0,l.createGlobalId)('StayListing',I.params.id),f=(0,t.default)(_.search),{adults:h,bypass_targetings:k,cancellation_policy_id:S,category_tag:v,cause_id:R,check_in:q,check_out:D,children:N,disaster_id:P,discountedGuestFeeVersion:T=null,federatedSearchId:B=null,federated_search_id:O=null,force_boost_unc_priority_message_type:E,guests:H,infants:M,interactionType:U=null,mockId:w,omni_page_id:A,omni_version_id:C,original_check_in:G,original_check_out:V,pets:x,preview:L,priceDropSource:F,private_booking:W,promotionUuid:j,rate_plan_id:z,relaxed_amenity_ids:J,searchId:K=null,staysBookingMigrationEnabled:Q=null,useNewSectionWrapperApi:X=null,photoId:Y=null}=f,Z={adults:h||H||'1',bypassTargetings:'true'===k,categoryTag:v||null,causeId:R||null,children:N||null,disasterId:P||null,discountedGuestFeeVersion:Number(T)||null,displayExtensions:(0,u.default)(_),federatedSearchId:B||O,forceBoostPriorityMessageType:E||null,infants:M||null,interactionType:U,layouts:['SIDEBAR','SINGLE_COLUMN'],omniPageId:A,omniVersionId:C,pets:Number(x)||0,pdpTypeOverride:(0,o.default)(_)||null,preview:'true'===L,previousStateCheckIn:G||null,previousStateCheckOut:V||null,priceDropSource:F||null,privateBooking:'true'===W,promotionUuid:j||null,relaxedAmenityIds:J||null,searchId:K,selectedCancellationPolicyId:Number(S)||null,selectedRatePlanId:Number(z)||null,splitStays:p?(0,c.default)({id:b,queryParams:f}):null,staysBookingMigrationEnabled:'true'===Q,translateUgc:(0,n.getTranslateUgcParam)(_),useNewSectionWrapperApi:'true'===X,sectionIds:null,checkIn:null,checkOut:null,p3ImpressionId:s.default.getBootstrap('ssr_pdp_impression_id')?y:void 0,photoId:Y};q&&D&&(Z.checkIn=q,Z.checkOut=D);return{id:b,pdpSectionsRequest:Z,...w&&{mockIdentifier:w}}};var t=babelHelpers.interopRequireDefault(r(d[0])),l=r(d[1]),n=r(d[2]),s=babelHelpers.interopRequireDefault(r(d[3])),o=babelHelpers.interopRequireDefault(r(d[4])),u=babelHelpers.interopRequireDefault(r(d[5])),c=babelHelpers.interopRequireDefault(r(d[6]))}),"b33b52",["99e500","685055","974ac4","6b945b","664416","2954b7","896ce9"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/gp-stays-pdp-route/routes/PdpPlatformRoute.prepare.3a68875916.js.map